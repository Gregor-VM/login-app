{"version":3,"sources":["firebase.js","hooks/useBackground.js","utils/utils.js","redux/actionTypes.js","redux/actions/userActions.js","hooks/useSetUser.js","components/SignIn.js","components/SignUp.js","redux/actions/articleActions.js","utils/firebase_utils.js","redux/actions/editingActions.js","components/WriteArticle.js","components/NavBar.js","components/Loading.js","components/ArticleItem.js","components/Articles.js","components/Home.js","components/ForgotPassword.js","utils/getImageUrl.js","components/Settings.js","components/ProfileInfo.js","components/Profile.js","components/Layout.js","redux/reducers/user.js","redux/reducers/articles.js","redux/reducers/editing.js","redux/reducers/index.js","redux/createStore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","signInWithGoogle","signInWithPopup","db","firestore","useBackground","bool","useEffect","document","body","className","validateSignIn","email","password","setEmailError","setPasswordError","emailNotError","passNotError","undefined","length","validateSignUp","confirm","actionTypes","SET_USER","ADD_ARTICLE","SET_ARTICLE","SET_EDITING","SET_EDITING_DOC","userActions","setUser","user","type","payload","addNewUser","collection","doc","id","set","useSetUser","dispatch","useDispatch","history","useHistory","onAuthStateChanged","a","userAuth","uid","get","userInfo","exists","name","displayName","photoURL","where","data","docs","push","SignIn","useState","emailError","passwordError","emailRef","useRef","passwordRef","handleSignIn","e","current","value","preventDefault","signInWithEmailAndPassword","message","onSubmit","htmlFor","ref","placeholder","onClick","to","SignUp","confirmPasswordRef","handleSignUp","createUserWithEmailAndPassword","setArticles","articles","addArticle","article","getUserNameAndPhotoById","res","firebaseUtils","firstArticles","orderBy","limit","lastKey","item","itemData","itemId","user_id","nextArticles","key","startAfter","textValue","dt","Date","text","date","getUTCDay","getUTCMonth","getUTCFullYear","getUTCHours","getUTCMinutes","getUTCSeconds","add","msg","error","finalArticle","updateArticle","textUpdated","includes","update","getUserInfoById","deleteAccount","delete","thisNameExists","resName","updateNameAndPhoto","setEditing","setEditingDoc","WriteArticle","setTextValue","setMsg","sending","setSending","useSelector","state","editing","articlesOfRedux","editingDoc","eraser","localStorage","getItem","handleShare","articleActions","map","editingActions","removeItem","onChange","target","rows","disabled","setItem","NavBar","currentLocation","location","pathname","href","src","width","height","alt","signOut","Loading","center","sm","class","role","ArticleItem","loading","setLoading","userId","admin","isProfile","useLocation","window","articlesWithItemDeleted","filter","Articles","articlesRedux","last","setLast","refreshLoading","setRefreshLoading","noMore","setNoMore","articlesState","setArticlesState","loadArticlesCallback","useCallback","refresh","queryId","then","mounted","i","prev","Home","ForgotPassword","inputRef","handleSendEmail","sendPasswordResetEmail","file","formData","FormData","append","options","method","fetch","json","jsonData","url","getImageUrl","Settings","updateInfo","setUpdateInfo","nameInput","setNameInput","done","setDone","fileRef","nameRef","handleChangeInfo","imageUrl","files","empty","img","handleDeleteAccount","style","fontSize","ProfileInfo","Profile","props","userRedux","Layout","exact","path","component","initialState","userReducer","combineReducers","createStore","rootReducers","App","store","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.da9b19ff.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n//import \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = () => {\r\n  auth.signInWithPopup(provider);\r\n};\r\n\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\n//export const storage = firebase.storage();\r\n","import { useEffect } from \"react\";\r\n\r\nexport const useBackground = (bool) => {\r\n  return useEffect(() => {\r\n    if (bool) {\r\n      document.body.className = \"body_animation\";\r\n    } else {\r\n      document.body.className = \"\";\r\n    }\r\n  }, [bool]);\r\n};\r\n","export const validateSignIn = (\r\n  email,\r\n  password,\r\n  setEmailError,\r\n  setPasswordError\r\n) => {\r\n  let emailNotError = false;\r\n  let passNotError = false;\r\n  if (email === \"\") {\r\n    setEmailError(\"Email field can't be empty\");\r\n  } else {\r\n    emailNotError = true;\r\n    setEmailError(undefined);\r\n  }\r\n\r\n  if (password === \"\") {\r\n    setPasswordError(\"Password field can't be empty\");\r\n  } else if (password.length < 6) {\r\n    setPasswordError(\"The password is too short\");\r\n  } else {\r\n    passNotError = true;\r\n    setPasswordError(undefined);\r\n  }\r\n\r\n  return [emailNotError, passNotError];\r\n};\r\n\r\nexport const validateSignUp = (\r\n  email,\r\n  password,\r\n  setEmailError,\r\n  setPasswordError,\r\n  confirm\r\n) => {\r\n  let emailNotError = false;\r\n  let passNotError = false;\r\n\r\n  if (email === \"\") {\r\n    setEmailError(\"Email field can't be empty\");\r\n  } else {\r\n    setEmailError(undefined);\r\n    emailNotError = true;\r\n  }\r\n\r\n  if (password === \"\") {\r\n    setPasswordError(\"Password field can't be empty\");\r\n  } else if (password !== confirm) {\r\n    setPasswordError(\"The password doesn't match\");\r\n  } else if (password.length < 6) {\r\n    setPasswordError(\"The password is too short\");\r\n  } else {\r\n    setPasswordError(undefined);\r\n    passNotError = true;\r\n  }\r\n\r\n  return [emailNotError, passNotError];\r\n};\r\n","const actionTypes = {\r\n  SET_USER: \"SET_USER\",\r\n\r\n  ADD_ARTICLE: \"ADD_ARTICLE\",\r\n  SET_ARTICLE: \"SET_ARTICLE\",\r\n\r\n  SET_EDITING: \"SET_EDITING\",\r\n  SET_EDITING_DOC: \"SET_EDITING_DOC\",\r\n};\r\n\r\nexport default actionTypes;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst userActions = {\r\n  setUser: (user) => ({\r\n    type: actionTypes.SET_USER,\r\n    payload: user,\r\n  }),\r\n};\r\n\r\nexport default userActions;\r\n","import { useEffect } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport userActions from \"../redux/actions/userActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useSetUser = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const unsuscribe = auth.onAuthStateChanged(async (userAuth) => {\r\n      if (userAuth === null) return null;\r\n      const doc = await db.collection(\"users\").doc(userAuth.uid).get();\r\n      let userInfo = {};\r\n      if (!doc.exists) {\r\n        userInfo = {\r\n          name: userAuth.displayName,\r\n          email: userAuth.email,\r\n          photoURL: userAuth.photoURL,\r\n          id: userAuth.uid,\r\n        };\r\n        addNewUser(userInfo);\r\n      } else {\r\n        const data = await db\r\n          .collection(\"users\")\r\n          .where(\"id\", \"==\", userAuth.uid)\r\n          .get();\r\n        userInfo = data.docs[0].data();\r\n      }\r\n      dispatch(userActions.setUser(userInfo));\r\n      history.push(\"/home\");\r\n    });\r\n    return unsuscribe;\r\n  }, [dispatch, history]);\r\n};\r\n\r\nfunction addNewUser(user) {\r\n  const collection = db.collection(\"users\");\r\n  collection.doc(user.id).set(user);\r\n}\r\n\r\nexport default useSetUser;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signInWithGoogle, auth } from \"../firebase\";\r\nimport { useBackground } from \"../hooks/useBackground\";\r\nimport { validateSignIn } from \"../utils/utils\";\r\nimport useSetUser from \"../hooks/useSetUser\";\r\n\r\nfunction SignIn() {\r\n  const [emailError, setEmailError] = useState(undefined);\r\n  const [passwordError, setPasswordError] = useState(undefined);\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const googleLogin = () => {\r\n    signInWithGoogle();\r\n  };\r\n\r\n  const handleSignIn = async (e) => {\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n\r\n    e.preventDefault();\r\n\r\n    const [emailNotError, passNotError] = validateSignIn(\r\n      email,\r\n      password,\r\n      setEmailError,\r\n      setPasswordError\r\n    );\r\n\r\n    if (emailNotError && passNotError) {\r\n      try {\r\n        await auth.signInWithEmailAndPassword(email, password);\r\n      } catch (error) {\r\n        setEmailError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  useSetUser();\r\n\r\n  useBackground(true);\r\n\r\n  return (\r\n    <div className=\"container d-flex align-items-center justify-content-center vh100\">\r\n      <div className=\"card p-5\">\r\n        <div className=\"card-title\">\r\n          <h1 className=\"display-4 text-center\">Sign In</h1>\r\n        </div>\r\n        <div className=\"card-body p-0\">\r\n          <form onSubmit={handleSignIn}>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                ref={emailRef}\r\n                id=\"email\"\r\n                type=\"email\"\r\n                className={\"form-control \" + (emailError && \"is-invalid\")}\r\n                placeholder=\"Enter your email...\"\r\n              ></input>\r\n              {emailError && (\r\n                <div className=\"invalid-feedback\">{emailError}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                ref={passwordRef}\r\n                id=\"password\"\r\n                type=\"password\"\r\n                className={\"form-control \" + (passwordError && \"is-invalid\")}\r\n                placeholder=\"Enter your password...\"\r\n              ></input>\r\n              {passwordError && (\r\n                <div className=\"invalid-feedback\">{passwordError}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <button type=\"submit\" className=\"btn btn-primary btn-block mt-2\">\r\n                Sign In\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <p className=\"text-center\">or</p>\r\n          <button\r\n            className=\"btn btn-outline-danger btn-block mb-2\"\r\n            onClick={googleLogin}\r\n          >\r\n            <i className=\"fab fa-google mr-2\"></i>Sign In With Google\r\n          </button>\r\n        </div>\r\n        <small className=\"text-center\">\r\n          Don't you have an account yet? <Link to=\"/signup\">Sign Up here!</Link>\r\n        </small>\r\n        <small className=\"text-center\">\r\n          <Link to=\"/recover\">Forgot Password?</Link>\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signInWithGoogle, auth } from \"../firebase\";\r\nimport { useBackground } from \"../hooks/useBackground\";\r\nimport { validateSignUp } from \"../utils/utils\";\r\nimport useSetUser from \"../hooks/useSetUser\";\r\n\r\nfunction SignUp() {\r\n  const [emailError, setEmailError] = useState(undefined);\r\n  const [passwordError, setPasswordError] = useState(undefined);\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const confirmPasswordRef = useRef();\r\n\r\n  const handleSignUp = async (e) => {\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n\r\n    e.preventDefault();\r\n\r\n    const [emailNotError, passNotError] = validateSignUp(\r\n      email,\r\n      password,\r\n      setEmailError,\r\n      setPasswordError,\r\n      confirmPasswordRef.current.value\r\n    );\r\n\r\n    if (emailNotError && passNotError) {\r\n      try {\r\n        await auth.createUserWithEmailAndPassword(email, password);\r\n      } catch (error) {\r\n        setEmailError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const googleLogin = () => {\r\n    signInWithGoogle();\r\n  };\r\n\r\n  useSetUser();\r\n\r\n  useBackground(true);\r\n\r\n  return (\r\n    <div className=\"container d-flex align-items-center justify-content-center vh100\">\r\n      <div className=\"card p-4\">\r\n        <div className=\"card-title\">\r\n          <h1 className=\"display-4 text-center m-0\">Sign Up</h1>\r\n        </div>\r\n        <div className=\"card-body px-4 m-0 py-0\">\r\n          <form onSubmit={handleSignUp}>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                ref={emailRef}\r\n                id=\"email\"\r\n                type=\"email\"\r\n                className={\"form-control \" + (emailError && \"is-invalid\")}\r\n                placeholder=\"Enter your email...\"\r\n              ></input>\r\n              {emailError && (\r\n                <div className=\"invalid-feedback\">{emailError}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                ref={passwordRef}\r\n                id=\"password\"\r\n                type=\"password\"\r\n                className={\"form-control \" + (passwordError && \"is-invalid\")}\r\n                placeholder=\"Enter your password...\"\r\n              ></input>\r\n              {passwordError && (\r\n                <div className=\"invalid-feedback\">{passwordError}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"confirmpassword\">Confirm password</label>\r\n              <input\r\n                ref={confirmPasswordRef}\r\n                id=\"confirmpassword\"\r\n                type=\"password\"\r\n                className={\"form-control \" + (passwordError && \"is-invalid\")}\r\n                placeholder=\"Enter your confirm password...\"\r\n              ></input>\r\n              {passwordError && (\r\n                <div className=\"invalid-feedback\">{passwordError}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <button type=\"submit\" className=\"btn btn-primary btn-block mt-2\">\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <p className=\"text-center m-0 mb-3\">or</p>\r\n        <button\r\n          className=\"btn btn-outline-danger btn-block mb-2\"\r\n          onClick={googleLogin}\r\n        >\r\n          <i className=\"fab fa-google mr-2\"></i>Sign Up With Google\r\n        </button>\r\n        <small className=\"text-center\">\r\n          Do you already have an account?\r\n          <Link to=\"/signin\"> Sign In here!</Link>\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst userActions = {\r\n  setArticles: (articles) => ({\r\n    type: actionTypes.SET_ARTICLE,\r\n    payload: articles,\r\n  }),\r\n  addArticle: (article) => ({\r\n    type: actionTypes.ADD_ARTICLE,\r\n    payload: article,\r\n  }),\r\n};\r\n\r\nexport default userActions;\r\n","import { db } from \"../firebase\";\r\n\r\nconst pageSize = 10;\r\n\r\nasync function getUserNameAndPhotoById(id) {\r\n  const res = await db.collection(\"users\").doc(id).get();\r\n  const user = res.data();\r\n  return { name: user.name, photoURL: user.photoURL };\r\n}\r\n\r\nconst firebaseUtils = {\r\n  firstArticles: async function (id = false) {\r\n    let ref = {};\r\n    if (id)\r\n      ref = db\r\n        .collection(\"articles\")\r\n        .where(\"user_id\", \"==\", id)\r\n        .orderBy(\"date\", \"desc\");\r\n    if (!id) ref = db.collection(\"articles\").orderBy(\"date\", \"desc\");\r\n\r\n    const data = await ref.limit(pageSize).get();\r\n    let articles = [];\r\n    let lastKey = \"\";\r\n\r\n    for (const item of data.docs) {\r\n      const itemData = item.data();\r\n      const itemId = item.id;\r\n      const { name, photoURL } = await getUserNameAndPhotoById(\r\n        itemData.user_id\r\n      );\r\n      articles.push({ ...itemData, itemId, name, photoURL });\r\n      lastKey = item;\r\n    }\r\n\r\n    return { articles, lastKey };\r\n  },\r\n  nextArticles: async function (key, id = false) {\r\n    let ref = {};\r\n    if (id)\r\n      ref = db\r\n        .collection(\"articles\")\r\n        .where(\"user_id\", \"==\", id)\r\n        .orderBy(\"date\", \"desc\");\r\n    if (!id) ref = db.collection(\"articles\").orderBy(\"date\", \"desc\");\r\n\r\n    const data = await ref.startAfter(key).limit(pageSize).get();\r\n    let articles = [];\r\n    let lastKey = \"\";\r\n    for (const item of data.docs) {\r\n      const itemData = item.data();\r\n      const itemId = item.id;\r\n      const { name, photoURL } = await getUserNameAndPhotoById(\r\n        itemData.user_id\r\n      );\r\n      articles.push({ ...itemData, itemId, name, photoURL });\r\n      lastKey = item;\r\n    }\r\n    return { articles, lastKey };\r\n  },\r\n  addArticle: async function (user, textValue) {\r\n    const dt = new Date();\r\n    const article = {\r\n      user_id: user.id,\r\n      text: textValue,\r\n      date: `${dt.getUTCDay()}/${dt.getUTCMonth()}/${dt.getUTCFullYear()} at ${dt.getUTCHours()}:${dt.getUTCMinutes()}:${dt.getUTCSeconds()}`,\r\n    };\r\n\r\n    try {\r\n      const res = await db.collection(\"articles\").add(article);\r\n      const msg = { msg: \"Articulo enviado!\", error: false };\r\n      const finalArticle = { ...article, itemId: res.id };\r\n      return { msg, finalArticle };\r\n    } catch (error) {\r\n      const msg = { msg: error.message, error: true };\r\n      return { msg };\r\n    }\r\n  },\r\n  updateArticle: async function (doc, textUpdated) {\r\n    const finalArticle = {\r\n      ...doc,\r\n      text: textUpdated,\r\n      date: !doc.date.includes(\"(editado\") ? doc.date + \" (editado)\" : doc.date,\r\n    };\r\n    try {\r\n      await db.collection(\"articles\").doc(doc.itemId).update(finalArticle);\r\n      const msg = { msg: \"Articulo actualizado!\", error: false };\r\n      return { msg, finalArticle };\r\n    } catch (error) {\r\n      const msg = { msg: error.message, error: true };\r\n      return { msg };\r\n    }\r\n  },\r\n  getUserInfoById: async (id) => {\r\n    const res = await db.collection(\"users\").doc(id).get();\r\n    const user = res.data();\r\n    return user;\r\n  },\r\n  deleteAccount: async (id) => {\r\n    try {\r\n      await db.collection(\"users\").doc(id).delete();\r\n      const data = await db\r\n        .collection(\"articles\")\r\n        .where(\"user_id\", \"==\", id)\r\n        .get();\r\n      for (const item of data.docs) {\r\n        await item.ref.delete();\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  },\r\n  thisNameExists: async (name) => {\r\n    try {\r\n      const resName = await db\r\n        .collection(\"users\")\r\n        .where(\"name\", \"==\", name)\r\n        .get();\r\n      return resName;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  },\r\n  updateNameAndPhoto: async (name, photoURL, id) => {\r\n    await db.collection(\"users\").doc(id).update({ name, photoURL });\r\n  },\r\n};\r\n\r\nexport default firebaseUtils;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst userActions = {\r\n  setEditing: (bool) => ({\r\n    type: actionTypes.SET_EDITING,\r\n    payload: bool,\r\n  }),\r\n  setEditingDoc: (doc) => ({\r\n    type: actionTypes.SET_EDITING_DOC,\r\n    payload: doc,\r\n  }),\r\n};\r\n\r\nexport default userActions;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport articleActions from \"../redux/actions/articleActions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport firebaseUtils from \"../utils/firebase_utils\";\r\nimport editingActions from \"../redux/actions/editingActions\";\r\n\r\nfunction WriteArticle() {\r\n  const [textValue, setTextValue] = useState(\"\");\r\n  const [msg, setMsg] = useState({ msg: \"\", error: false });\r\n  const [sending, setSending] = useState(false);\r\n  const user = useSelector((state) => state.user.user);\r\n  const editing = useSelector((state) => state.editing);\r\n  const articlesOfRedux = useSelector((state) => state.articles.articles);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (editing.editing) {\r\n      setTextValue(editing.editingDoc.text);\r\n    }\r\n  }, [editing]);\r\n\r\n  useEffect(() => {\r\n    const eraser = localStorage.getItem(\"eraser\");\r\n    if (eraser) {\r\n      setTextValue(eraser);\r\n    }\r\n  }, []);\r\n\r\n  const saveEraser = (e) => {\r\n    e.preventDefault();\r\n    localStorage.setItem(\"eraser\", textValue);\r\n    setMsg({ msg: \"Your text in save in this device\", error: false });\r\n  };\r\n\r\n  const handleShare = async (e) => {\r\n    e.preventDefault();\r\n    setSending(true);\r\n\r\n    if (textValue === \"\") {\r\n      setSending(false);\r\n      return setMsg({ msg: \"Tu mensaje está vacio!\", error: true });\r\n    }\r\n\r\n    if (editing.editing) {\r\n      try {\r\n        const { msg, finalArticle } = await firebaseUtils.updateArticle(\r\n          editing.editingDoc,\r\n          textValue\r\n        );\r\n\r\n        setMsg(msg);\r\n        dispatch(\r\n          articleActions.setArticles(\r\n            articlesOfRedux.map((item) => {\r\n              if (item.itemId === finalArticle.itemId) {\r\n                return {\r\n                  ...item,\r\n                  text: finalArticle.text,\r\n                  date: finalArticle.date,\r\n                };\r\n              } else {\r\n                return item;\r\n              }\r\n            })\r\n          )\r\n        );\r\n        dispatch(editingActions.setEditing(false));\r\n        dispatch(editingActions.setEditingDoc({}));\r\n\r\n        setTextValue(\"\");\r\n        setSending(false);\r\n        return null;\r\n      } catch (error) {\r\n        setMsg(msg);\r\n        setSending(false);\r\n      }\r\n    }\r\n\r\n    try {\r\n      const { msg, finalArticle } = await firebaseUtils.addArticle(\r\n        user,\r\n        textValue\r\n      );\r\n      setMsg(msg);\r\n      if (finalArticle) dispatch(articleActions.addArticle(finalArticle));\r\n      if (finalArticle) localStorage.removeItem(\"eraser\");\r\n      setTextValue(\"\");\r\n      setSending(false);\r\n    } catch ({ msg }) {\r\n      setMsg(msg);\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelUpdate = () => {\r\n    dispatch(editingActions.setEditingDoc({}));\r\n    dispatch(editingActions.setEditing(false));\r\n    setTextValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mt-3 row mx-1 shadow-sm\">\r\n      <div className=\"card-body col-12\">\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            onChange={(e) => setTextValue(e.target.value)}\r\n            value={textValue}\r\n            rows=\"6\"\r\n            className=\"form-control\"\r\n            placeholder=\"Write something interesting and share it...\"\r\n          ></textarea>\r\n        </div>\r\n        {msg.msg !== \"\" && (\r\n          <div className={\"alert alert-\" + (msg.error ? \"danger\" : \"success\")}>\r\n            {msg.msg}\r\n          </div>\r\n        )}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-success\"\r\n          onClick={handleShare}\r\n          disabled={sending}\r\n        >\r\n          {editing.editing ? \"Update\" : \"Share\"}\r\n        </button>\r\n\r\n        {editing.editing && (\r\n          <button className=\"btn btn-danger ml-2\" onClick={handleCancelUpdate}>\r\n            Cancel\r\n          </button>\r\n        )}\r\n\r\n        {!editing.editing && (\r\n          <button\r\n            className=\"btn btn-outline-secondary ml-2\"\r\n            onClick={saveEraser}\r\n          >\r\n            Save\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WriteArticle;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { auth } from \"../firebase\";\r\nimport userActions from \"../redux/actions/userActions\";\r\n\r\nfunction NavBar({ user }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const currentLocation = history.location.pathname;\r\n\r\n  const handleLogOut = (e) => {\r\n    e.preventDefault();\r\n    auth.signOut();\r\n    history.push(\"/signin\");\r\n    dispatch(userActions.setUser({}));\r\n  };\r\n\r\n  const handleSeeProfile = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/profile\", user.id);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-light bg-light\">\r\n      <a className=\"navbar-brand\" href=\"/#\" onClick={handleSeeProfile}>\r\n        {user.photoURL !== null ? (\r\n          <img\r\n            src={user.photoURL}\r\n            width=\"30\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top rounded-circle mr-2\"\r\n            alt=\"avatar\"\r\n          ></img>\r\n        ) : (\r\n          <i className=\"fas fa-user-alt mr-2\"></i>\r\n        )}\r\n        {user.name === null ? \"Anónimo\" : user.name}\r\n      </a>\r\n      <ul className=\"navbar-nav d-flex flex-row\">\r\n        <li\r\n          className={\r\n            (currentLocation === \"/home\" ? \"active\" : \"\") + \" nav-item mx-2\"\r\n          }\r\n        >\r\n          <Link className=\"nav-link\" to=\"/home\">\r\n            <i className=\"fas fa-home mx-1 my-0\"></i>\r\n            Home<span className=\"sr-only\">(current)</span>\r\n          </Link>\r\n        </li>\r\n        <li\r\n          className={\r\n            (currentLocation === \"/settings\" ? \"active\" : \"\") + \" nav-item mx-2\"\r\n          }\r\n        >\r\n          <Link className=\"nav-link\" to=\"/settings\">\r\n            <i className=\"fas fa-cog mx-1\"></i>\r\n            Settings<span className=\"sr-only\">(current)</span>\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item mx-2\">\r\n          <a className=\"nav-link\" href=\"/#\" onClick={handleLogOut}>\r\n            <i className=\"fas fa-sign-out-alt mx-1\"></i>\r\n            Logout<span className=\"sr-only\">(current)</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\n\r\nfunction Loading({ center, sm }) {\r\n  if (sm) {\r\n    return (\r\n      <div class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n        <span class=\"sr-only\">Loading...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (center) {\r\n    return (\r\n      <div className=\"w-100 text-center\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"spinner-border\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { db } from \"../firebase\";\r\nimport articleActions from \"../redux/actions/articleActions\";\r\nimport Loading from \"./Loading\";\r\nimport editingActions from \"../redux/actions/editingActions\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nfunction ArticleItem({ name, photoURL, text, date, user_id, itemId }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const userId = useSelector((state) => state.user.user.id);\r\n  const articles = useSelector((state) => state.articles.articles);\r\n  const admin = userId === user_id;\r\n  const location = useLocation();\r\n  const isProfile = location.pathname === \"/profile\";\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  async function handleDelete() {\r\n    if (window.confirm(\"Are you sure to delete this item?\")) {\r\n      setLoading(true);\r\n      await db.collection(\"articles\").doc(itemId).delete();\r\n      const articlesWithItemDeleted = articles.filter(\r\n        (item) => item.itemId !== itemId\r\n      );\r\n      dispatch(articleActions.setArticles(articlesWithItemDeleted));\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleEdit() {\r\n    dispatch(editingActions.setEditing(true));\r\n    dispatch(editingActions.setEditingDoc({ text, date, itemId }));\r\n    if (isProfile) {\r\n      history.push(\"/home\");\r\n    }\r\n  }\r\n\r\n  const handleSeeProfile = () => {\r\n    history.push(\"/profile\", user_id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card shadow-sm p-4 row my-4\">\r\n      <div className=\"card-title\">\r\n        <div className=\"d-flex justify-content-between flex-md-row flex-column\">\r\n          <div className=\"hover_blue\" onClick={handleSeeProfile}>\r\n            {photoURL !== null ? (\r\n              <img\r\n                src={photoURL}\r\n                alt={name + \" profile\"}\r\n                width=\"25\"\r\n                className=\"rounded-circle mr-2\"\r\n              ></img>\r\n            ) : (\r\n              <i className=\"fas fa-user-alt mr-2\"></i>\r\n            )}\r\n            <span className=\"lead\">{name === null ? \"Anónimo\" : name}</span>\r\n          </div>\r\n          <div>\r\n            {admin && (\r\n              <i\r\n                className=\"fas fa-edit hover_blue p-2\"\r\n                onClick={handleEdit}\r\n              ></i>\r\n            )}\r\n            {admin &&\r\n              (loading ? (\r\n                <Loading sm={true} />\r\n              ) : (\r\n                <i\r\n                  className=\"fas fa-trash hover_red p-2\"\r\n                  onClick={handleDelete}\r\n                ></i>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body col-12 p-2\">\r\n        <p>{text}</p>\r\n        <small>Posted: {date}</small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArticleItem;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport ArticleItem from \"./ArticleItem\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport articleActions from \"../redux/actions/articleActions\";\r\nimport firebaseUtils from \"../utils/firebase_utils\";\r\nimport Loading from \"./Loading\";\r\n\r\nfunction Articles({ id }) {\r\n  const articlesRedux = useSelector((state) => state.articles.articles);\r\n  const [last, setLast] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshLoading, setRefreshLoading] = useState(false);\r\n  const [noMore, setNoMore] = useState(false);\r\n  const [articlesState, setArticlesState] = useState([]);\r\n\r\n  const location = useLocation();\r\n  const isProfile = location.pathname === \"/profile\";\r\n\r\n  const dispatch = useDispatch();\r\n  const loadArticlesCallback = useCallback(\r\n    (refresh) => {\r\n      if (articlesRedux.length > 0 && !isProfile && !refresh) {\r\n        setLoading(false);\r\n        return null;\r\n      }\r\n      //dispatch(articleActions.setArticles([]));\r\n      //setLoading(true);\r\n      if (id === undefined && isProfile) {\r\n        return null;\r\n      }\r\n      setRefreshLoading(refresh);\r\n      const queryId = id ? id : false;\r\n      firebaseUtils.firstArticles(queryId).then(({ articles, lastKey }) => {\r\n        if (!id) dispatch(articleActions.setArticles(articles));\r\n        if (id) setArticlesState(articles);\r\n        setLast(lastKey);\r\n        setLoading(false);\r\n        setRefreshLoading(false);\r\n      });\r\n    },\r\n    [dispatch, id, articlesRedux, isProfile]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) loadArticlesCallback(false);\r\n    return () => (mounted = false);\r\n  }, [loadArticlesCallback]);\r\n\r\n  const handleLoadMore = (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    const queryId = id ? id : false;\r\n    firebaseUtils.nextArticles(last, queryId).then(({ articles, lastKey }) => {\r\n      if (!id) dispatch(articleActions.addArticle(articles));\r\n      if (id && articles.length > 0)\r\n        setArticlesState((prev) => [...prev, ...articles]);\r\n      setLast(lastKey);\r\n      if (articles.length === 0) {\r\n        setNoMore(true);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mt-4 mx-1 row p-4 shadow\">\r\n      <div className=\"card-body col-12\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <h4 className=\"text-center m-0\">Last Articles:</h4>\r\n          {refreshLoading ? (\r\n            <Loading />\r\n          ) : (\r\n            <i\r\n              className=\"fas fa-sync-alt border rounded p-2 hover\"\r\n              onClick={() => loadArticlesCallback(true)}\r\n            ></i>\r\n          )}\r\n        </div>\r\n        {articlesRedux.length > 0 && !isProfile\r\n          ? articlesRedux.map((item, i) => <ArticleItem {...item} key={i} />)\r\n          : null}\r\n        {articlesState.length > 0 && isProfile\r\n          ? articlesState.map((item, i) => <ArticleItem {...item} key={i} />)\r\n          : null}\r\n        {articlesState.length === 0 && isProfile && !loading && (\r\n          <p className=\"my-2 text-center\">This account doesn't have articles</p>\r\n        )}\r\n        {articlesRedux.length === 0 && !isProfile && !loading && (\r\n          <p className=\"my-2 text-center\">\r\n            Nobody has uploaded anything be the first!\r\n          </p>\r\n        )}\r\n        {noMore && !loading ? (\r\n          <span>No more articles :(</span>\r\n        ) : (\r\n          !loading && (\r\n            <a\r\n              href=\"/#\"\r\n              className=\"text-center d-block\"\r\n              onClick={handleLoadMore}\r\n            >\r\n              Load More!\r\n            </a>\r\n          )\r\n        )}\r\n        {loading && <Loading center={true} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Articles;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useBackground } from \"../hooks/useBackground\";\r\nimport WriteArticle from \"./WriteArticle\";\r\nimport NavBar from \"./NavBar\";\r\nimport Articles from \"./Articles\";\r\n\r\nfunction Home() {\r\n  const user = useSelector((state) => state.user.user);\r\n\r\n  useBackground(false);\r\n  return (\r\n    <>\r\n      <NavBar user={user} />\r\n      <div className=\"container\">\r\n        <WriteArticle />\r\n        <Articles />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useBackground } from \"../hooks/useBackground\";\r\n\r\nfunction ForgotPassword() {\r\n  const [msg, setMsg] = useState(\"\");\r\n  const inputRef = useRef();\r\n  const handleSendEmail = async () => {\r\n    try {\r\n      await auth.sendPasswordResetEmail(inputRef.current.value);\r\n      setMsg(\"You have to check your email and follow the instructions\");\r\n    } catch (error) {\r\n      setMsg(error.message);\r\n    }\r\n  };\r\n\r\n  useBackground(true);\r\n\r\n  return (\r\n    <div className=\"container vh100 d-flex align-items-center justify-content-center\">\r\n      <div className=\"card p-4\">\r\n        <div className=\"card-title\">\r\n          <h4 className=\"text-center display-4\">Recover my account</h4>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"resetpassword\"></label>\r\n          <input\r\n            ref={inputRef}\r\n            id=\"resetpassword\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Write your email...\"\r\n          ></input>\r\n        </div>\r\n        <button className=\"btn btn-primary btn-block\" onClick={handleSendEmail}>\r\n          Send Email\r\n        </button>\r\n        <small className=\"my-2 text-center\">{msg}</small>\r\n        <Link to=\"/signin\">\r\n          <small className=\"text-center mt-1\">Back to Sign in</small>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","async function getImageUrl(file) {\r\n  try {\r\n    if (file?.type?.includes(\"image\")) {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"upload_preset\", \"mhxqfgbm\");\r\n\r\n      const options = {\r\n        method: \"POST\",\r\n        body: formData,\r\n      };\r\n\r\n      const res = await fetch(\r\n        \"https://api.cloudinary.com/v1_1/dalnxbdem/image/upload\",\r\n        options\r\n      );\r\n\r\n      const jsonData = await res.json();\r\n      const url = jsonData.url;\r\n      return url;\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    return \"error\";\r\n  }\r\n}\r\n\r\nexport default getImageUrl;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport NavBar from \"./NavBar\";\r\nimport userActions from \"../redux/actions/userActions\";\r\nimport firebaseUtils from \"../utils/firebase_utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../firebase\";\r\nimport getImageUrl from \"../utils/getImageUrl\";\r\n\r\nfunction Settings() {\r\n  const user = useSelector((state) => state.user.user);\r\n  const [updateInfo, setUpdateInfo] = useState(false);\r\n  const [nameInput, setNameInput] = useState(user.name);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [done, setDone] = useState(\"\");\r\n  const fileRef = useRef();\r\n  const nameRef = useRef(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleChangeInfo = async () => {\r\n    let imageUrl = \"\";\r\n    const name = nameRef.current.value;\r\n    const file = fileRef.current.files[0];\r\n    if (updateInfo === false) {\r\n      return setUpdateInfo(true);\r\n    }\r\n\r\n    if (file === undefined && user.name === name) {\r\n      return setMsg(\"You didn't change anything\");\r\n    }\r\n\r\n    if (name < 6) {\r\n      return setMsg(\"Your name can't have less of 6 words\");\r\n    }\r\n\r\n    try {\r\n      const resName = await firebaseUtils.thisNameExists(name);\r\n      if (resName.docs[0]?.id !== user.id) {\r\n        const already = !resName.empty;\r\n        if (already) return setMsg(\"This name already exist, try change it\");\r\n      }\r\n\r\n      const res = await getImageUrl(file);\r\n      if (res !== false && res !== \"error\") {\r\n        imageUrl = res;\r\n      }\r\n      if (res === \"error\") {\r\n        return setMsg(\"Error uploading the image\");\r\n      }\r\n\r\n      const img = imageUrl !== \"\" ? imageUrl : user.photoURL;\r\n\r\n      await firebaseUtils.updateNameAndPhoto(name, img, user.id);\r\n\r\n      setDone(\"Your profile has been updated\");\r\n      dispatch(\r\n        userActions.setUser({\r\n          ...user,\r\n          name: nameRef.current.value,\r\n          photoURL: img,\r\n        })\r\n      );\r\n\r\n      setMsg(\"\");\r\n    } catch (error) {\r\n      setMsg(\"An unexpected error happened\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (\r\n      window.confirm(\r\n        \"All your information including your articles will be deleted and this action is irreversible, do you want to continue?\"\r\n      )\r\n    ) {\r\n      await firebaseUtils.deleteAccount(user.id);\r\n      auth.signOut();\r\n      history.push(\"/signin\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar user={user} />\r\n      <div className=\"container row mx-auto\">\r\n        <div className=\"card p-4 col-md-3 m-2\">\r\n          {user.photoURL !== null ? (\r\n            <img\r\n              className=\"mx-auto rounded-circle avatar\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              alt=\"profile\"\r\n              src={user.photoURL}\r\n            ></img>\r\n          ) : (\r\n            <i\r\n              className=\"fas fa-user-alt mr-2 text-center\"\r\n              style={{ fontSize: 70 }}\r\n            ></i>\r\n          )}\r\n          <div className=\"card-title mt-3 text-center\">\r\n            <h4>{user.name === null ? \"Anónimo\" : user.name}</h4>\r\n            <small>{user.email}</small>\r\n          </div>\r\n          <button className=\"btn btn-danger\" onClick={handleDeleteAccount}>\r\n            Delete this account\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"card col-md-8 m-2 row\">\r\n          <div className=\"card-body col-12 d-flex flex-column justify-content-between\">\r\n            <form>\r\n              <div className=\"form-group row\">\r\n                <label htmlFor=\"user_name\" className=\"col-sm-2 col-form-label\">\r\n                  Name\r\n                </label>\r\n                <div className=\"col-sm-10\">\r\n                  <input\r\n                    ref={nameRef}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"user_name\"\r\n                    value={nameInput}\r\n                    onChange={(e) => setNameInput(e.target.value)}\r\n                    disabled={!updateInfo}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group row\">\r\n                <label htmlFor=\"user_photo\" className=\"col-sm-2 col-form-label\">\r\n                  Image\r\n                </label>\r\n                <div className=\"col-sm-10\">\r\n                  <input\r\n                    ref={fileRef}\r\n                    type=\"file\"\r\n                    className=\"form-control-file\"\r\n                    id=\"user_photo\"\r\n                    disabled={!updateInfo}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n            </form>\r\n            {msg !== \"\" && <div className=\"alert alert-danger\">{msg}</div>}\r\n            {done !== \"\" && <div className=\"alert alert-success\">{done}</div>}\r\n            <button className=\"btn btn-success\" onClick={handleChangeInfo}>\r\n              Update Info\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport Loading from \"./Loading\";\r\n\r\nfunction ProfileInfo({ user }) {\r\n  if (user.id === undefined) {\r\n    return (\r\n      <div className=\"card p-4 col-md-3 m-4 h-25\">\r\n        <Loading center={true} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"card p-4 col-md-3 m-4 h-25\">\r\n        {user.photoURL !== null ? (\r\n          <img\r\n            className=\"mx-auto rounded-circle\"\r\n            width=\"100\"\r\n            height=\"100\"\r\n            alt=\"profile\"\r\n            src={user.photoURL}\r\n          ></img>\r\n        ) : (\r\n          <i\r\n            className=\"fas fa-user-alt mr-2 text-center\"\r\n            style={{ fontSize: 70 }}\r\n          ></i>\r\n        )}\r\n        <div className=\"card-title mt-3 text-center\">\r\n          <h4>{user.name === null ? \"Anónimo\" : user.name}</h4>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NavBar from \"./NavBar\";\r\nimport Articles from \"./Articles\";\r\nimport firebaseUtils from \"../utils/firebase_utils\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\n\r\nfunction Profile(props) {\r\n  const userRedux = useSelector((state) => state.user.user);\r\n  const userId = props.location.state;\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    firebaseUtils.getUserInfoById(userId).then((user) => setUser(user));\r\n  }, [userId]);\r\n  return (\r\n    <>\r\n      <NavBar user={userRedux} />\r\n\r\n      <div className=\"container row mx-auto\">\r\n        <ProfileInfo user={user} />\r\n\r\n        <div className=\"col-md-8\">\r\n          <Articles id={user.id} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport SignIn from \"./SignIn\";\r\nimport SignUp from \"./SignUp\";\r\nimport Home from \"./Home\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ForgotPassword from \"./ForgotPassword\";\r\nimport Settings from \"./Settings\";\r\nimport Profile from \"./Profile\";\r\n\r\nfunction Layout() {\r\n  const user = useSelector((state) => state.user.user);\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          component={user.id === undefined ? SignIn : Home}\r\n        />\r\n        <Route path=\"/signin\" component={SignIn} />\r\n        <Route path=\"/signup\" component={SignUp} />\r\n        <Route path=\"/home\" component={user.id === undefined ? SignIn : Home} />\r\n        <Route path=\"/recover\" component={ForgotPassword} />\r\n        <Route\r\n          path=\"/settings\"\r\n          component={user.id === undefined ? SignIn : Settings}\r\n        />\r\n        <Route\r\n          path=\"/profile\"\r\n          component={user.id === undefined ? SignIn : Profile}\r\n        />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  user: {},\r\n};\r\nfunction userReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case actionTypes.SET_USER:\r\n      return { ...state, user: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  articles: [],\r\n};\r\nfunction userReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case actionTypes.ADD_ARTICLE:\r\n      if (payload?.length) {\r\n        return { ...state, articles: [...state.articles, ...payload] };\r\n      } else {\r\n        if (payload?.name) {\r\n          return { ...state, articles: [payload, ...state.articles] };\r\n        } else {\r\n          return state;\r\n        }\r\n      }\r\n\r\n    case actionTypes.SET_ARTICLE:\r\n      return { ...state, articles: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  editing: false,\r\n  editingDoc: {},\r\n};\r\nfunction userReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case actionTypes.SET_EDITING:\r\n      return { ...state, editing: payload };\r\n    case actionTypes.SET_EDITING_DOC:\r\n      return { ...state, editingDoc: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./user\";\r\nimport articles from \"./articles\";\r\nimport editing from \"./editing\";\r\n\r\nexport default combineReducers({ user, articles, editing });\r\n","import { createStore } from \"redux\";\r\nimport rootReducers from \"./reducers\";\r\n\r\nexport default createStore(rootReducers);\r\n","import \"./App.css\";\nimport Layout from \"./components/Layout\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/createStore\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Layout />\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}